#import "template/napkin.typ": *
#import "template/napkin-users.typ": *

#plain_box(title: "AT-2.1.22")[
  Prove by induction on dimension the following facts about the homology of a
  finite-dimensional CW complex $X$, using the observation that $X^n slash X^(n-1)$ is a wedge
  sum of $n$-spheres:

  #enum(numbering: "(a)")[
    If $X$ has dimension $n$ then $H_i (X) = 0$ for $i > n$ and $H_n (X)$ is free.
  ][
    $H_n (X)$ is free with basis in bijective correspondence with the $n$-cells
    if there are no cells of dimension $n - 1$ or $n + 1$.
  ][
    If $X$ has $k$ $n$-cells, then $H_n (X)$ is generated by at most $k$ elements.
  ]
]

#solution(users.kiwiyou)[
  *Lemma 1.* For any integer $n > 0$, $X^n slash X^(n-1) = or.big_alpha S^n_alpha$.

  _Proof._ $X^n$ is the quotient space of $X^(n-1) product.co_alpha D^n_alpha$ under
  the identifications $x ~ phi_alpha (x)$ for each $x in partial D^n_alpha$, where
  $phi_alpha : S^(n-1) -> X^(n-1)$. In $X^n slash X^(n-1)$, $X^(n-1)$ collapses
  into a single point, namely $p$. Then $partial D^n_alpha$ is all identified with $p$,
  which forms $or.big_alpha S^n_alpha$.

  *Theorem (a).* If $X$ has dimension $n$ then $H_i (X) = 0$ for $i > n$ and
  $H_n (X)$ is free.

  _Proof._ It is trivial for $n = 0$ (base case). Inductively suppose it holds for $n < k$.
  Look at the long exact sequence for $i > k$:

  $
    dots.c -> H_i (X^(k-1)) -> H_i (X^k) = H_i (X) -> H_i (X^k, X^(k-1)) -> dots.c
  $

  Since $(X^k, X^(k-1))$ is a good pair, and by the inductive hypothesis, it becomes:

  $ dots.c -> 0 -> H_i (X) -> tilde(H)_i (X^k slash X^(k-1)) -> dots.c $

  Note that $tilde(H)_i (X^k slash X^(k-1))
  = tilde(H)_i (or.big_alpha S^k_alpha)
  = xor.big_alpha tilde(H)_i (S^k)
  = 0$. Therefore, $H_i (X) = 0$ if $i > k$.
  Now look at the long exact sequence for $i = k$:

  $
    dots.c -> 0 -> H_k (X) stretch(->)^(q_*) tilde(H)_k (X^k slash X^(k-1)) -> dots.c
  $

  Note that $tilde(H)_k (X^k slash X^(k-1))
  = tilde(H)_k (or.big_alpha S^k_alpha)
  = ZZ^alpha$. Exactness implies $ker q_* = 0$, which means $q_*$ is an inclusion.
  $H_k (X)$ is thus an abelian subgroup of free abelian group $ZZ^alpha$,
  and it must also be free. #sym.qed

  *Theorem (b).* $H_n (X)$ is free with basis in bijective correspondence with
  the $n$-cells if there are no cells of dimension $n - 1$ or $n + 1$.

  _Proof._ Look at the long exact sequence when $k >= n + 1$:
  $
    dots.c -> tilde(H)_(n+1) (X^(k+1) slash X^k) -> H_n (X^k) -> H_n (X^(k+1)) -> tilde(H)_n (X^(k+1) slash X^k) -> dots.c
  $

  Note that $tilde(H)_i (X^(k+1) slash X^k) = xor.big_alpha tilde(H)_i (S^(k+1)_alpha) = 0$ when $i <= n+1 < k + 1$.
  Exactness implies $H_n (X^k) tilde.equiv H_n (X^(k+1))$.
  So if there are no cells of dimension $n + 1$, we have infinite isomorphic chain
  starting with $H_n (X^n) = H_n (X^(n+1))$:

  $ H_n (X^n) = H_n (X^(n+1)) tilde.equiv H_n (X^(n+2)) tilde.equiv dots.c $

  Since $X$ is finite-dimensional, this chain has a fixed point $H_n (X)$, and it is indeed
  isomorphic to $H_n (X^n)$. Now to find out basis, look at this long exact sequence:

  $
    dots.c -> H_n (X^(n-1)) -> H_n (X^n) -> tilde(H)_n (X^n slash X^(n-1)) -> H_(n-1) (X^(n-1)) -> dots.c
  $

  If there are no cells of dimension $n-1$ then $X^(n-1) = X^(n-2)$. By Theorem (a),
  $H_n (X^(n-1)) = H_(n-1) (X^(n-1)) = 0$. We get final isomorphism:

  $ dots.c -> 0 -> H_n (X^n) tilde.equiv ZZ^alpha -> 0 -> dots.c $

  Here $alpha$ is from $n$-cells ${e^n_alpha}$. Therefore, $H_n (X) tilde.equiv H_n (X^n)$ is free with basis in bijective correspondence with the $n$-cells. #sym.qed

  *Theorem (c).* If $X$ has $k$ $n$-cells, then $H_n (X)$ is generated by at most $k$ elements.

  Recall the isomorphic chain from Theorem (b):

  $
    H_n (X^(n+1)) tilde.equiv H_n (X^(n+2)) tilde.equiv dots.c tilde.equiv H_n (X)
  $

  We don't have $H_n (X^n) = H_n (X^(n+1))$ this time.
  Instead look at another exact sequence:

  $
    dots.c -> H_n (X^n) stretch(->)^(i_*) H_n (X^(n+1)) -> tilde(H)_n (X^(n+1) slash X^n) -> dots.c
  $

  Again from $tilde(H)_n (X^(n+1) slash X^n) = 0$, $im i_* = H_n (X^(n+1))$,
  thus $H_n (X)$ is abelian subgroup of $H_n (X^n)$. If $X$ has $k$ $n$-cells,
  $tilde(H)_n (X^n slash X^(n-1)) = ZZ^k$. Same with the proof of Theorem (a), $H_n (X^n)$ is abelian subgroup
  of $ZZ^k$. Therefore $H_n (X)$ is generated by at most $k$ elements. #sym.qed
]
